import{c as et,u as fe,s as tt,i as rt,g as nt,a as me,b as st,f as ot,d as H,e as P,r as E,k as at,h as it,j as ct,l as ye,m as ge,n as lt,o as V,p as u,q as k,t as y,v as ut,w as _e,z as pt,_ as U,x as ve,y as dt,U as A,R as I,A as he,B as be,C as ft,D as mt,E as yt,F as we,K as gt,G as _t,H as vt}from"./index-9155cb9d.js";import{a as p,b as j}from"./react-c99c05cb.js";function vn(e){return e}function xe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=xe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ht(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=xe(t))&&(n&&(n+=" "),n+=r);return n}const bt={app:100,modal:200,popover:300,overlay:400,max:9999};function wt(e){return bt[e]}function xt(e,t){const r=p.useRef();return(!r.current||t.length!==r.current.prevDeps.length||r.current.prevDeps.map((n,s)=>n===t[s]).indexOf(!1)>=0)&&(r.current={v:e(),prevDeps:[...t]}),r.current.v}const Ot=et({key:"mantine",prepend:!0});function jt(){return fe()||Ot}var St=Object.defineProperty,K=Object.getOwnPropertySymbols,$t=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable,Y=(e,t,r)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Et=(e,t)=>{for(var r in t||(t={}))$t.call(t,r)&&Y(e,r,t[r]);if(K)for(var r of K(t))Ct.call(t,r)&&Y(e,r,t[r]);return e};const D="ref";function At(e){let t;if(e.length!==1)return{args:e,ref:t};const[r]=e;if(!(r instanceof Object))return{args:e,ref:t};if(!(D in r))return{args:e,ref:t};t=r[D];const n=Et({},r);return delete n[D],{args:[n],ref:t}}const{cssFactory:Pt}=(()=>{function e(r,n,s){const o=[],a=nt(r,o,s);return o.length<2?s:a+n(o)}function t(r){const{cache:n}=r,s=(...a)=>{const{ref:i,args:l}=At(a),c=tt(l,n.registered);return rt(n,c,!1),`${n.key}-${c.name}${i===void 0?"":` ${i}`}`};return{css:s,cx:(...a)=>e(n.registered,s,ht(a))}}return{cssFactory:t}})();function Oe(){const e=jt();return xt(()=>Pt({cache:e}),[e])}function Rt({cx:e,classes:t,context:r,classNames:n,name:s,cache:o}){const a=r.reduce((i,l)=>(Object.keys(l.classNames).forEach(c=>{typeof i[c]!="string"?i[c]=`${l.classNames[c]}`:i[c]=`${i[c]} ${l.classNames[c]}`}),i),{});return Object.keys(t).reduce((i,l)=>(i[l]=e(t[l],a[l],n!=null&&n[l],Array.isArray(s)?s.filter(Boolean).map(c=>`${(o==null?void 0:o.key)||"mantine"}-${c}-${l}`).join(" "):s?`${(o==null?void 0:o.key)||"mantine"}-${s}-${l}`:null),i),{})}var Nt=Object.defineProperty,Z=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,J=(e,t,r)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q=(e,t)=>{for(var r in t||(t={}))zt.call(t,r)&&J(e,r,t[r]);if(Z)for(var r of Z(t))It.call(t,r)&&J(e,r,t[r]);return e};function L(e,t){return t&&Object.keys(t).forEach(r=>{e[r]?e[r]=q(q({},e[r]),t[r]):e[r]=q({},t[r])}),e}function X(e,t,r,n){const s=o=>typeof o=="function"?o(t,r||{},n):o||{};return Array.isArray(e)?e.map(o=>s(o.styles)).reduce((o,a)=>L(o,a),{}):s(e)}function Tt({ctx:e,theme:t,params:r,variant:n,size:s}){return e.reduce((o,a)=>(a.variants&&n in a.variants&&L(o,a.variants[n](t,r,{variant:n,size:s})),a.sizes&&s in a.sizes&&L(o,a.sizes[s](t,r,{variant:n,size:s})),o),{})}function Bt(e){const t=typeof e=="function"?e:()=>e;function r(n,s){const o=me(),a=st(s==null?void 0:s.name),i=fe(),l={variant:s==null?void 0:s.variant,size:s==null?void 0:s.size},{css:c,cx:d}=Oe(),m=t(o,n,l),w=X(s==null?void 0:s.styles,o,n,l),_=X(a,o,n,l),h=Tt({ctx:a,theme:o,params:n,variant:s==null?void 0:s.variant,size:s==null?void 0:s.size}),O=Object.fromEntries(Object.keys(m).map(g=>{const b=d({[c(m[g])]:!(s!=null&&s.unstyled)},c(h[g]),c(_[g]),c(w[g]));return[g,b]}));return{classes:Rt({cx:d,classes:O,context:a,classNames:s==null?void 0:s.classNames,name:s==null?void 0:s.name,cache:i}),cx:d,theme:o}}return r}var Q=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,Mt=(e,t)=>{var r={};for(var n in e)Vt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Q)for(var n of Q(e))t.indexOf(n)<0&&kt.call(e,n)&&(r[n]=e[n]);return r};function Dt(e){const t=e,{m:r,mx:n,my:s,mt:o,mb:a,ml:i,mr:l,p:c,px:d,py:m,pt:w,pb:_,pl:h,pr:O,bg:g,c:b,opacity:f,ff:v,fz:S,fw:x,lts:$,ta:M,lh:Ne,fs:ze,tt:Ie,td:Te,w:Be,miw:Ve,maw:ke,h:Me,mih:De,mah:qe,bgsz:Le,bgp:Fe,bgr:Ue,bga:We,pos:Ge,top:He,left:Ke,bottom:Ye,right:Ze,inset:Je,display:Xe}=t,Qe=Mt(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:ot({m:r,mx:n,my:s,mt:o,mb:a,ml:i,mr:l,p:c,px:d,py:m,pt:w,pb:_,pl:h,pr:O,bg:g,c:b,opacity:f,ff:v,fz:S,fw:x,lts:$,ta:M,lh:Ne,fs:ze,tt:Ie,td:Te,w:Be,miw:Ve,maw:ke,h:Me,mih:De,mah:qe,bgsz:Le,bgp:Fe,bgr:Ue,bga:We,pos:Ge,top:He,left:Ke,bottom:Ye,right:Ze,inset:Je,display:Xe}),rest:Qe}}function qt(e,t){const r=Object.keys(e).filter(n=>n!=="base").sort((n,s)=>H(P({size:n,sizes:t.breakpoints}))-H(P({size:s,sizes:t.breakpoints})));return"base"in e?["base",...r]:r}function Lt({value:e,theme:t,getValue:r,property:n}){if(e==null)return;if(typeof e=="object")return qt(e,t).reduce((a,i)=>{if(i==="base"&&e.base!==void 0){const c=r(e.base,t);return Array.isArray(n)?(n.forEach(d=>{a[d]=c}),a):(a[n]=c,a)}const l=r(e[i],t);return Array.isArray(n)?(a[t.fn.largerThan(i)]={},n.forEach(c=>{a[t.fn.largerThan(i)][c]=l}),a):(a[t.fn.largerThan(i)]={[n]:l},a)},{});const s=r(e,t);return Array.isArray(n)?n.reduce((o,a)=>(o[a]=s,o),{}):{[n]:s}}function Ft(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function Ut(e){return E(e)}function Wt(e){return e}function Gt(e,t){return P({size:e,sizes:t.fontSizes})}const Ht=["-xs","-sm","-md","-lg","-xl"];function Kt(e,t){return Ht.includes(e)?`calc(${P({size:e.replace("-",""),sizes:t.spacing})} * -1)`:P({size:e,sizes:t.spacing})}const Yt={identity:Wt,color:Ft,size:Ut,fontSize:Gt,spacing:Kt},Zt={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var Jt=Object.defineProperty,ee=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,te=(e,t,r)=>t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,re=(e,t)=>{for(var r in t||(t={}))Xt.call(t,r)&&te(e,r,t[r]);if(ee)for(var r of ee(t))Qt.call(t,r)&&te(e,r,t[r]);return e};function ne(e,t,r=Zt){return Object.keys(r).reduce((s,o)=>(o in e&&e[o]!==void 0&&s.push(Lt({value:e[o],getValue:Yt[r[o].type],property:r[o].property,theme:t})),s),[]).reduce((s,o)=>(Object.keys(o).forEach(a=>{typeof o[a]=="object"&&o[a]!==null&&a in s?s[a]=re(re({},s[a]),o[a]):s[a]=o[a]}),s),{})}function se(e,t){return typeof e=="function"?e(t):e}function er(e,t,r){const n=me(),{css:s,cx:o}=Oe();return Array.isArray(e)?o(r,s(ne(t,n)),e.map(a=>s(se(a,n)))):o(r,s(se(e,n)),s(ne(t,n)))}var tr=Object.defineProperty,T=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,oe=(e,t,r)=>t in e?tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rr=(e,t)=>{for(var r in t||(t={}))je.call(t,r)&&oe(e,r,t[r]);if(T)for(var r of T(t))Se.call(t,r)&&oe(e,r,t[r]);return e},nr=(e,t)=>{var r={};for(var n in e)je.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&T)for(var n of T(e))t.indexOf(n)<0&&Se.call(e,n)&&(r[n]=e[n]);return r};const $e=p.forwardRef((e,t)=>{var r=e,{className:n,component:s,style:o,sx:a}=r,i=nr(r,["className","component","style","sx"]);const{systemStyles:l,rest:c}=Dt(i),d=s||"div";return j.createElement(d,rr({ref:t,className:er(a,l,n),style:o},c))});$e.displayName="@mantine/core/Box";const sr=$e;var or=Object.defineProperty,ar=Object.defineProperties,ir=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,cr=Object.prototype.hasOwnProperty,lr=Object.prototype.propertyIsEnumerable,ie=(e,t,r)=>t in e?or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ce=(e,t)=>{for(var r in t||(t={}))cr.call(t,r)&&ie(e,r,t[r]);if(ae)for(var r of ae(t))lr.call(t,r)&&ie(e,r,t[r]);return e},le=(e,t)=>ar(e,ir(t));const ur=e=>at({from:{boxShadow:`0 0 ${E(.5)} 0 ${e}`,opacity:.6},to:{boxShadow:`0 0 ${E(.5)} ${E(4.4)} ${e}`,opacity:0}});function ue(e,t=0){const r={},[n,s]=e.split("-");let o="",a="";return n==="top"&&(r.top=t,a="-50%"),n==="middle"&&(r.top="50%",a="-50%"),n==="bottom"&&(r.bottom=t,a="50%"),s==="start"&&(r.left=t,o="-50%"),s==="center"&&(r.left="50%",o="-50%"),s==="end"&&(r.right=t,o="50%"),r.transform=`translate(${o}, ${a})`,r}var pr=Bt((e,{radius:t,color:r,position:n,offset:s,inline:o,withBorder:a,withLabel:i,zIndex:l},{size:c})=>{const{background:d}=e.fn.variant({variant:"filled",primaryFallback:!1,color:r||e.primaryColor}),m=E(c);return{root:{position:"relative",display:o?"inline-block":"block"},indicator:le(ce({},ue(n,s)),{zIndex:l,position:"absolute",[i?"minWidth":"width"]:m,height:m,display:"flex",justifyContent:"center",alignItems:"center",fontSize:e.fontSizes.xs,paddingLeft:i?`calc(${e.spacing.xs} / 2)`:0,paddingRight:i?`calc(${e.spacing.xs} / 2)`:0,borderRadius:e.fn.radius(t),backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:r||e.primaryColor}).background,border:a?`${E(2)} solid ${e.colorScheme==="dark"?e.colors.dark[7]:e.white}`:void 0,color:e.white,whiteSpace:"nowrap"}),processing:{animation:`${ur(d)} 1000ms linear infinite`},common:le(ce({},ue(n,s)),{position:"absolute",[i?"minWidth":"width"]:m,height:m,borderRadius:e.fn.radius(t)})}});const dr=pr;var fr=Object.defineProperty,B=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,pe=(e,t,r)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mr=(e,t)=>{for(var r in t||(t={}))Ce.call(t,r)&&pe(e,r,t[r]);if(B)for(var r of B(t))Ee.call(t,r)&&pe(e,r,t[r]);return e},yr=(e,t)=>{var r={};for(var n in e)Ce.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&B)for(var n of B(e))t.indexOf(n)<0&&Ee.call(e,n)&&(r[n]=e[n]);return r};const gr={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1,size:10,radius:1e3,zIndex:wt("app")},Ae=p.forwardRef((e,t)=>{const r=it("Indicator",gr,e),{children:n,position:s,offset:o,size:a,radius:i,inline:l,withBorder:c,className:d,color:m,styles:w,label:_,classNames:h,disabled:O,zIndex:g,unstyled:b,processing:f,variant:v}=r,S=yr(r,["children","position","offset","size","radius","inline","withBorder","className","color","styles","label","classNames","disabled","zIndex","unstyled","processing","variant"]),{classes:x,cx:$}=dr({position:s,offset:o,radius:i,inline:l,color:m,withBorder:c,zIndex:g,withLabel:!!_},{name:"Indicator",classNames:h,styles:w,unstyled:b,variant:v,size:a});return j.createElement(sr,mr({ref:t,className:$(x.root,d)},S),!O&&j.createElement(j.Fragment,null,j.createElement("div",{className:$(x.indicator,x.common)},_),f&&j.createElement("div",{className:$(x.processing,x.common)})),n)});Ae.displayName="@mantine/core/Indicator";const _r=p.createContext(void 0),W=e=>{const t=p.useContext(_r);return(e==null?void 0:e.store)||t||ct()},vr=e=>typeof(e==null?void 0:e.then)=="function",hr=j.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function R(e,t){const r=W(t),[[n,s,o],a]=p.useReducer(c=>{const d=r.get(e);return Object.is(c[0],d)&&c[1]===r&&c[2]===e?c:[d,r,e]},void 0,()=>[r.get(e),r,e]);let i=n;(s!==r||o!==e)&&(a(),i=r.get(e));const l=t==null?void 0:t.delay;return p.useEffect(()=>{const c=r.sub(e,()=>{if(typeof l=="number"){setTimeout(a,l);return}a()});return a(),c},[r,e,l]),p.useDebugValue(i),vr(i)?hr(i):i}function C(e,t){const r=W(t);return p.useCallback((...s)=>{if(({VITE_OPENAI_API_KEY:"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",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!("write"in e))throw new Error("not writable atom");return r.set(e,...s)},[r,e])}function G(e,t){return[R(e,t),C(e,t)]}const br={model:"gpt-3.5-turbo",temperature:.5,max_tokens:4096,top_p:1,presence_penalty:0,frequency_penalty:0},Pe=`I am a researcher with expertise in multiple fields, capable of assisting users in solving problems.

Additional rule:

1. Answer should be written in markdown format.`,wr=e=>G(p.useMemo(()=>ye(t=>t(ge)[e]),[e])),xr=e=>G(p.useMemo(()=>ye(t=>t(lt)[e]),[e]));function Or(e){const t=p.useRef(e);return t.current=e,p.useMemo(()=>Object.freeze({get current(){return t.current}}),[])}const jr=typeof window<"u"&&typeof navigator<"u"&&typeof document<"u";function Sr(e){p.useEffect(()=>{e()},[])}let N;function $r(){if(!jr)return;if(N)return N;const e=new Map,t=new ResizeObserver(r=>{r.forEach(n=>{var s;return(s=e.get(n.target))==null?void 0:s.forEach(o=>setTimeout(()=>o(n),0))})});return N={observer:t,subscribe:(r,n)=>{let s=e.get(r);s||(s=new Set,e.set(r,s),t.observe(r)),s.add(n)},unsubscribe:(r,n)=>{const s=e.get(r);s&&(s.delete(n),s.size||(e.delete(r),t.unobserve(r)))}},N}function Cr(e,t,r=!0){const n=r&&$r(),s=Or(t),o=e&&"current"in e?e.current:e;p.useEffect(()=>{const a=e&&"current"in e?e.current:e;if(!n||!a)return;let i=!0;const l=(...c)=>{i&&s.current(...c)};return n.subscribe(a,l),()=>{i=!1,n.unsubscribe(a,l)}},[o,n])}var Er={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ar=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pr=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:i,...l},c)=>p.createElement("svg",{ref:c,...Er,width:s,height:s,stroke:n,strokeWidth:a?Number(o)*24/Number(s):o,className:`lucide lucide-${Ar(e)}`,...l},[...t.map(([d,m])=>p.createElement(d,m)),...(Array.isArray(i)?i:[i])||[]]));return r.displayName=`${e}`,r},Rr=Pr("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),Nr="/assets/chatgpt-a52b0da1.webp";var zr="_1o7wafv0";const Ir=V(p.memo,e=>u.jsx("div",{className:e[0],style:e[1],children:e[2]})),Tr=({bg:e,children:t,radius:r="0.5rem",size:n=44})=>{let s=k(p.useRef,13),o=0 in s?s[0]:s[0]=zr,a;if(y(s,1,e)?s[1]:s[1]=e){let x=ut(s,2,2),$=y(x,0,e),M=$?x[0]:x[0]=e;a=$?x[1]:x[1]=`url("${M}")`}else a="none";let i=y(s,3,r),l=i?s[3]:s[3]=r,c=y(s,4,n),d=c?s[4]:s[4]=n,m=c?s[5]:s[5]=`${d}px`,w=c?s[6]:s[6]=`${d}px`,_=i&&c?s[7]:s[7]={backgroundImage:a,borderRadius:l,height:m,width:w},h=y(s,8,_),O=h?s[8]:s[8]=_,g=y(s,9,t),b=g?s[9]:s[9]=t,f=h&&g?s[10]:s[10]=[o,O,b],v=y(s,11,f),S=v?s[11]:s[11]=f;return v?s[12]:s[12]=u.jsx(Ir,{v:S})},Br=V(p.memo,e=>{const t=e[0];return u.jsx(t,{...e[1],size:e[2],color:e[3],strokeWidth:e[4]})}),Vr=p.memo(({as:e,color:t=_e.colors.text,size:r=18,strokeWidth:n=1.5,...s})=>{let o=k(p.useRef,8),a=y(o,0,e),i=a?o[0]:o[0]=e,l=y(o,1,s),c=l?o[1]:o[1]=s,d=y(o,2,r),m=d?o[2]:o[2]=r,w=y(o,3,t),_=w?o[3]:o[3]=t,h=y(o,4,n),O=h?o[4]:o[4]=n,g=a&&l&&d&&w&&h?o[5]:o[5]=[i,c,m,_,O],b=y(o,6,g),f=b?o[6]:o[6]=g;return b?o[7]:o[7]=u.jsx(Br,{v:f})});var kr="_1jvxuvy0",Mr="_1jvxuvy1";const Dr=V(p.memo,e=>{const t=e[1],r=e[2],n=e[4],s=e[7];return u.jsxs("div",{className:e[0],children:[u.jsx(t,{to:"/bots/ChatGPT",children:u.jsx(r,{bg:e[3]})}),u.jsx(n,{inline:!0,label:"WIP",size:e[5],children:u.jsx("div",{className:e[6],children:u.jsx(s,{as:e[8],size:e[9],color:e[10]})})})]})}),qr=({selected:e})=>{let t=k(p.useRef,1);return 0 in t?t[0]:t[0]=u.jsx(Dr,{v:[kr,pt,Tr,Nr,Ae,14,Mr,Vr,Rr,24,_e.colors.overlay]})};function Lr(e,t){const r=W(t);return p.useEffect(()=>r.sub(e,()=>{}),[r,e]),[p.useCallback(()=>r.get(e),[r,e]),p.useCallback((...n)=>{if((s=>!!s.write)(e))return r.set(e,...n);throw new Error("not writable atom")},[r,e])]}const Fr=typeof window<"u"?j.useInsertionEffect||j.useLayoutEffect:()=>{};function z(e){const t=j.useRef(Ur);Fr(()=>{t.current=e},[e]);const r=j.useRef(null);return r.current||(r.current=function(){return t.current.apply(this,arguments)}),r.current}function Ur(){throw new Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}var Wr="ppg23g0",Gr="ppg23g1";const Hr=V(p.memo,e=>u.jsx("div",{id:e[0],className:e[1],children:u.jsx("input",{className:e[2],type:"text",placeholder:e[3],autoComplete:"off",value:e[4],onChange:e[5],...e[6]})})),Kr=p.memo(({id:e,onChange:t,placeholder:r="Untitled",value:n,...s})=>{let o=k(p.useRef,11),a=p.useDeferredValue(y(o,0,n)?o[0]:o[0]=n),i=y(o,1,e),l=i?o[1]:o[1]=e,c=2 in o?o[2]:o[2]=Wr,d=3 in o?o[3]:o[3]=Gr,m=y(o,4,r),w=m?o[4]:o[4]=r,_=y(o,5,a),h=_?o[5]:o[5]=a,O=y(o,6,t),g=O?o[6]:o[6]=t,b=y(o,7,s),f=b?o[7]:o[7]=s,v=i&&m&&_&&O&&b?o[8]:o[8]=[l,c,d,w,h,g,f],S=y(o,9,v),x=S?o[9]:o[9]=v;return S?o[10]:o[10]=u.jsx(Hr,{v:x})});var Yr="gd12u82",Zr="gd12u84 gd12u83",Jr="gd12u80",Xr="gd12u83",Qr="gd12u81";const F=({aside:e,asideHeader:t,children:r,header:n})=>u.jsxs("div",{className:Jr,children:[u.jsxs("aside",{className:Yr,children:[u.jsx("div",{className:Zr,children:t}),e]}),u.jsxs("main",{className:Qr,children:[u.jsx("header",{className:Xr,children:n}),r]})]});var en="_1ogrem70",tn="_1ogrem71";const rn=p.lazy(()=>U(()=>import("./index-4a15b0b9.js"),["assets/index-4a15b0b9.js","assets/index-9155cb9d.js","assets/react-c99c05cb.js","assets/index-de832b6e.css","assets/react-error-boundary.esm-922dfc05.js","assets/index-83796f5a.css"])),nn=({id:e})=>{const[t]=xr(e);return u.jsx(p.Suspense,{children:t?u.jsx(rn,{data:t}):null})},sn=({data:e,isGenerating:t,onHeightChange:r})=>{const{id:n,messages:s}=e,o=p.useRef(null);return Cr(o,a=>{r==null||r(a.contentRect.height)},t),u.jsx("div",{className:en,children:u.jsx("div",{className:tn,ref:o,children:s.map(a=>u.jsx(nn,{id:a},a))})})};var on="_1q3thl81",de="_1q3thl80";const an=p.lazy(()=>U(()=>import("./index-6a4634e8.js"),["assets/index-6a4634e8.js","assets/index-9155cb9d.js","assets/react-c99c05cb.js","assets/index-de832b6e.css","assets/react-hotkeys-hook.esm-1f920beb.js","assets/index-aab3870a.css"])),cn=p.lazy(()=>U(()=>import("./index-1e22ac99.js").then(e=>e.w),["assets/index-1e22ac99.js","assets/index-9155cb9d.js","assets/react-c99c05cb.js","assets/index-de832b6e.css","assets/react-error-boundary.esm-922dfc05.js","assets/react-hotkeys-hook.esm-1f920beb.js","assets/index-401fc63e.css"])),ln=({botName:e,chatID:t})=>{const r=p.useRef(null),[n]=wr(t),[s]=Lr(ge),o=R(ve),a=C(he),i=C(be),l=C(ft),c=C(mt),d=C(yt),m=R(dt),w=m.isSome()&&m.unwrap().type==="pending",_=z(()=>{const f={id:A(),role:"system",content:Pe,updatedAt:Date.now()},v={id:A(),messages:[f.id],title:"",updatedAt:Date.now()};a(f),i(v)}),h=z(()=>{const f=s();Object.keys(f).length!==1&&(I.push("BotNewChat",{botName:e}),c(t))}),O=z(async f=>{const v={id:A(),content:f,role:"user",updatedAt:Date.now()};a(v),l(t,S=>{S.messages.push(v.id)}),await d(t,br)}),g=z(f=>f.trim()!==""&&!w),b=p.useMemo(()=>u.jsx(an,{items:o,newItemName:"New chat",selected:t,onItemAdd:_,onItemRemove:h}),[t,_,h,o]);return n?u.jsxs(F,{asideHeader:e,aside:b,header:u.jsx(Kr,{id:"chat-title",value:n.title,placeholder:"Untitled",onChange:f=>{l(t,v=>{v.title=f.currentTarget.value})}}),children:[u.jsx("div",{ref:r,className:de,children:u.jsx(sn,{data:n,isGenerating:w,onHeightChange:()=>{var f;(f=r.current)==null||f.scrollTo({top:r.current.scrollHeight})}})}),u.jsx("div",{className:on,children:u.jsx(cn,{onComplete:O,shouldComplete:g})})]}):u.jsx(F,{asideHeader:e,aside:b,children:u.jsx("div",{className:de,children:u.jsx("div",{children:"Select a chat to start"})})})};function Re(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Re(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function un(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Re(e))&&(n&&(n+=" "),n+=t);return n}var pn="_17i0ume0";const dn=({botName:e})=>{const[t,r]=G(we);return u.jsx(F,{header:`${e} Settings`,children:u.jsxs("div",{className:un("prose-sm",pn),children:[u.jsx("h3",{children:"API Key"}),u.jsx("input",{type:"text",value:t,onChange:n=>{r(n.target.value)}})]})})},fn=({botName:e})=>{const t=C(he),r=C(be),n=R(ve);return Sr(()=>{const s=n[0];if(s){I.push("BotChat",{botName:e,chatID:s.id});return}const o={id:A(),role:"system",content:Pe,updatedAt:Date.now()},a={id:A(),title:"",updatedAt:Date.now(),messages:[o.id]};t(o),r(a),I.push("BotChat",{botName:e,chatID:a.id})}),null},mn=({botName:e})=>{const t=I.useRoute(["BotRoot","BotChat","BotNewChat","BotSettings","BotChatArchive"]),r=!!R(we),n=p.useMemo(()=>gt(t).with({name:"BotRoot"},({params:s})=>u.jsx(_t,{to:`/bots/${s.botName}/${r?"new":"settings"}`})).with({name:"BotNewChat"},({params:s})=>u.jsx(fn,{botName:s.botName})).with({name:"BotSettings"},({params:s})=>u.jsx(dn,{botName:s.botName})).with({name:"BotChat"},({params:s})=>u.jsx(ln,{botName:s.botName,chatID:s.chatID})).otherwise(()=>null),[r,t]);return u.jsx(vt,{nav:u.jsx(qr,{selected:e}),children:u.jsx(p.Suspense,{children:n})})},hn=Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"}));export{sr as B,Vr as I,Rr as P,un as a,vn as c,hn as i,z as u};
