import{M as k,l as S,j as i,q as b,__tla as R}from"./index-f118ce55.js";import{a as t}from"./react-aeb67c7a.js";import{c as E,__tla as P}from"./Layout-be7b42c0.js";import{M as $,__tla as q}from"./MarkdownEditor-00c3e28b.js";import{u as z,__tla as A}from"./ChatDetail-fcdce0fc.js";import"https://cdn.jsdelivr.net/npm/rsup-progress@3.1.1/dist/esm/index.js";import"https://cdn.jsdelivr.net/npm/web-vitals@3.3.2/+esm";import"./clsx.m-1229b3e0.js";import"./react-error-boundary.esm-d3f489dd.js";import{__tla as B}from"./BotArea-811072ae.js";let T,D=Promise.all([(()=>{try{return R}catch{}})(),(()=>{try{return P}catch{}})(),(()=>{try{return q}catch{}})(),(()=>{try{return A}catch{}})(),(()=>{try{return B}catch{}})()]).then(async()=>{function v(e){const s=z(e);t.useEffect(()=>()=>{s.current()},[])}function x(e,s,n,a=0){const r=t.useRef(),o=t.useRef(),u=t.useRef(),d=()=>{r.current&&(clearTimeout(r.current),r.current=void 0),o.current&&(clearTimeout(o.current),o.current=void 0)};return v(d),t.useMemo(()=>{const m=()=>{if(!u.current)return;const c=u.current;u.current=void 0,e.apply(c.this,c.args),d()},_=function(...c){r.current&&clearTimeout(r.current),u.current={args:c,this:this},r.current=setTimeout(m,n),a>0&&!o.current&&(o.current=setTimeout(m,a))};return Object.defineProperties(_,{length:{value:e.length},name:{value:`${e.name||"anonymous"}__debounced__${n}`}}),_},[n,a,...s])}function C(e,s,n=0){const[a,r]=t.useState(e);return[a,x(r,[],s,n)]}const g=()=>{};var N="stj6jw0",w="stj6jw1",f="stj6jw3",M="stj6jw2";T=t.memo(({defaultContent:e="",id:s,onComplete:n=g,shouldSend:a=!1})=>{const r=k(),o=S(b,{store:r}),u=E(s),[d,m]=t.useState(!1),[_,c]=t.useState(e),[p,h]=C(_,500),j=t.useCallback(l=>{t.startTransition(()=>{c(l),h(l)})},[h]),y=t.useMemo(()=>{if(p==="")return 0;const l={id:s,content:p,role:"user",updatedAt:Date.now()};return o.estimateTokenCount([l])},[o,p,s]);return i.jsxs("div",{className:N,children:[i.jsxs("div",{className:M,style:{opacity:d?1:0},children:[i.jsxs("span",{className:f,children:["Words: ",_.length]}),i.jsxs("span",{className:f,children:["Tokens: ",y]}),i.jsxs("span",{className:f,children:["Total Tokens: ",u+y]})]}),t.useMemo(()=>i.jsx($,{className:w,defaultValue:e,onFocus:()=>m(!0),onBlur:()=>m(!1),onChange:j,onComplete:n,shouldComplete:l=>l.trim()!==""&&a}),[e,n,j,a])]})})});export{D as __tla,T as default};
