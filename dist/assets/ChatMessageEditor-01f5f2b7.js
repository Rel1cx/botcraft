import{K as k,b as M,j as i,f as S,__tla as R}from"./index-e7222e14.js";import{a as t}from"./react-aeb67c7a.js";import{c as E,__tla as P}from"./Layout-f8365008.js";import{M as $,__tla as z}from"./MarkdownEditor-a9c15527.js";import{u as A,__tla as B}from"./ChatDetail-4dfd5c2e.js";import"https://cdn.jsdelivr.net/npm/rsup-progress@3.1.1/dist/esm/index.js";import"https://cdn.jsdelivr.net/npm/web-vitals@3.3.2/+esm";import"./clsx.m-1229b3e0.js";import"./react-error-boundary.esm-d3f489dd.js";import{__tla as D}from"./BotArea-64268f82.js";import{__tla as F}from"./Text-bd5a9cfd.js";let T,K=Promise.all([(()=>{try{return R}catch{}})(),(()=>{try{return P}catch{}})(),(()=>{try{return z}catch{}})(),(()=>{try{return B}catch{}})(),(()=>{try{return D}catch{}})(),(()=>{try{return F}catch{}})()]).then(async()=>{function v(e){const s=A(e);t.useEffect(()=>()=>{s.current()},[])}function x(e,s,a,n=0){const r=t.useRef(),o=t.useRef(),u=t.useRef(),d=()=>{r.current&&(clearTimeout(r.current),r.current=void 0),o.current&&(clearTimeout(o.current),o.current=void 0)};return v(d),t.useMemo(()=>{const m=()=>{if(!u.current)return;const c=u.current;u.current=void 0,e.apply(c.this,c.args),d()},_=function(...c){r.current&&clearTimeout(r.current),u.current={args:c,this:this},r.current=setTimeout(m,a),n>0&&!o.current&&(o.current=setTimeout(m,n))};return Object.defineProperties(_,{length:{value:e.length},name:{value:`${e.name||"anonymous"}__debounced__${a}`}}),_},[a,n,...s])}function C(e,s,a=0){const[n,r]=t.useState(e);return[n,x(r,[],s,a)]}const g=()=>{};var N="stj6jw0",w="stj6jw1",f="stj6jw3",b="stj6jw2";T=t.memo(({defaultContent:e="",id:s,onComplete:a=g,shouldSend:n=!1})=>{const r=k(),o=M(S,{store:r}),u=E(s),[d,m]=t.useState(!1),[_,c]=t.useState(e),[p,h]=C(_,500),j=t.useCallback(l=>{t.startTransition(()=>{c(l),h(l)})},[h]),y=t.useMemo(()=>{if(p==="")return 0;const l={id:s,content:p,role:"user",updatedAt:Date.now()};return o.estimateTokenCount([l])},[o,p,s]);return i.jsxs("div",{className:N,children:[i.jsxs("div",{className:b,style:{opacity:d?1:0},children:[i.jsxs("span",{className:f,children:["Words: ",_.length]}),i.jsxs("span",{className:f,children:["Tokens: ",y]}),i.jsxs("span",{className:f,children:["Total Tokens: ",u+y]})]}),t.useMemo(()=>i.jsx($,{className:w,defaultValue:e,onFocus:()=>m(!0),onBlur:()=>m(!1),onChange:j,onComplete:a,shouldComplete:l=>l.trim()!==""&&n}),[e,a,j,n])]})})});export{K as __tla,T as default};
