import{c as Zr,u as Rt,s as Qr,i as Xr,g as tn,a as Ct,b as en,f as rn,d as Bt,e as $,r as E,k as nn,h as sn,j as an,l as Dt,m as Tt,n as on,o as A,p,q as D,t as m,v as cn,w as Lt,z as ln,_ as U,x as Vt,y as pn,A as P,D as Wt,R as T,B as Ht,C as Ft,E as un,F as dn,G as fn,H as Mt,K as yn,I as mn,S as hn,J as bn,L as gn,__tla as vn}from"./index-cbad737e.js";import{a as u,b as z}from"./react-7029a116.js";let K,q,J,Y,Gt,Ut,I,wn=Promise.all([(()=>{try{return vn}catch{}})()]).then(async()=>{Gt=function(t){return t};function Z(t){var r,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(e=Z(t[r]))&&(n&&(n+=" "),n+=e);else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Kt(){for(var t=0,r,e,n="";t<arguments.length;)(r=arguments[t++])&&(e=Z(r))&&(n&&(n+=" "),n+=e);return n}const qt={app:100,modal:200,popover:300,overlay:400,max:9999};function Jt(t){return qt[t]}function Yt(t,r){const e=u.useRef();return(!e.current||r.length!==e.current.prevDeps.length||e.current.prevDeps.map((n,s)=>n===r[s]).indexOf(!1)>=0)&&(e.current={v:t(),prevDeps:[...r]}),e.current.v}const Zt=Zr({key:"mantine",prepend:!0});function Qt(){return Rt()||Zt}var Xt=Object.defineProperty,Q=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,X=(t,r,e)=>r in t?Xt(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,re=(t,r)=>{for(var e in r||(r={}))te.call(r,e)&&X(t,e,r[e]);if(Q)for(var e of Q(r))ee.call(r,e)&&X(t,e,r[e]);return t};const L="ref";function ne(t){let r;if(t.length!==1)return{args:t,ref:r};const[e]=t;if(!(e instanceof Object))return{args:t,ref:r};if(!(L in e))return{args:t,ref:r};r=e[L];const n=re({},e);return delete n[L],{args:[n],ref:r}}const{cssFactory:se}=(()=>{function t(e,n,s){const a=[],o=tn(e,a,s);return a.length<2?s:o+n(a)}function r(e){const{cache:n}=e,s=(...a)=>{const{ref:o,args:i}=ne(a),c=Qr(i,n.registered);return Xr(n,c,!1),`${n.key}-${c.name}${o===void 0?"":` ${o}`}`};return{css:s,cx:(...a)=>t(n.registered,s,Kt(a))}}return{cssFactory:r}})();function tt(){const t=Qt();return Yt(()=>se({cache:t}),[t])}function ae({cx:t,classes:r,context:e,classNames:n,name:s,cache:a}){const o=e.reduce((i,c)=>(Object.keys(c.classNames).forEach(l=>{typeof i[l]!="string"?i[l]=`${c.classNames[l]}`:i[l]=`${i[l]} ${c.classNames[l]}`}),i),{});return Object.keys(r).reduce((i,c)=>(i[c]=t(r[c],o[c],n!=null&&n[c],Array.isArray(s)?s.filter(Boolean).map(l=>`${a?.key||"mantine"}-${l}-${c}`).join(" "):s?`${a?.key||"mantine"}-${s}-${c}`:null),i),{})}var oe=Object.defineProperty,et=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,rt=(t,r,e)=>r in t?oe(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,V=(t,r)=>{for(var e in r||(r={}))ie.call(r,e)&&rt(t,e,r[e]);if(et)for(var e of et(r))ce.call(r,e)&&rt(t,e,r[e]);return t};function W(t,r){return r&&Object.keys(r).forEach(e=>{t[e]?t[e]=V(V({},t[e]),r[e]):t[e]=V({},r[e])}),t}function nt(t,r,e,n){const s=a=>typeof a=="function"?a(r,e||{},n):a||{};return Array.isArray(t)?t.map(a=>s(a.styles)).reduce((a,o)=>W(a,o),{}):s(t)}function le({ctx:t,theme:r,params:e,variant:n,size:s}){return t.reduce((a,o)=>(o.variants&&n in o.variants&&W(a,o.variants[n](r,e,{variant:n,size:s})),o.sizes&&s in o.sizes&&W(a,o.sizes[s](r,e,{variant:n,size:s})),a),{})}function pe(t){const r=typeof t=="function"?t:()=>t;function e(n,s){const a=Ct(),o=en(s?.name),i=Rt(),c={variant:s?.variant,size:s?.size},{css:l,cx:d}=tt(),f=r(a,n,c),b=nt(s?.styles,a,n,c),g=nt(o,a,n,c),v=le({ctx:o,theme:a,params:n,variant:s?.variant,size:s?.size}),x=Object.fromEntries(Object.keys(f).map(h=>{const w=d({[l(f[h])]:!s?.unstyled},l(v[h]),l(g[h]),l(b[h]));return[h,w]}));return{classes:ae({cx:d,classes:x,context:o,classNames:s?.classNames,name:s?.name,cache:i}),cx:d,theme:a}}return e}var st=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,fe=(t,r)=>{var e={};for(var n in t)ue.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&st)for(var n of st(t))r.indexOf(n)<0&&de.call(t,n)&&(e[n]=t[n]);return e};function ye(t){const r=t,{m:e,mx:n,my:s,mt:a,mb:o,ml:i,mr:c,p:l,px:d,py:f,pt:b,pb:g,pl:v,pr:x,bg:h,c:w,opacity:y,ff:j,fz:N,fw:O,lts:_,ta:G,lh:Ir,fs:Sr,tt:$r,td:Ar,w:Pr,miw:Rr,maw:Cr,h:Br,mih:Dr,mah:Tr,bgsz:Lr,bgp:Vr,bgr:Wr,bga:Hr,pos:Fr,top:Mr,left:Gr,bottom:Ur,right:Kr,inset:qr,display:Jr}=r,Yr=fe(r,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:rn({m:e,mx:n,my:s,mt:a,mb:o,ml:i,mr:c,p:l,px:d,py:f,pt:b,pb:g,pl:v,pr:x,bg:h,c:w,opacity:y,ff:j,fz:N,fw:O,lts:_,ta:G,lh:Ir,fs:Sr,tt:$r,td:Ar,w:Pr,miw:Rr,maw:Cr,h:Br,mih:Dr,mah:Tr,bgsz:Lr,bgp:Vr,bgr:Wr,bga:Hr,pos:Fr,top:Mr,left:Gr,bottom:Ur,right:Kr,inset:qr,display:Jr}),rest:Yr}}function me(t,r){const e=Object.keys(t).filter(n=>n!=="base").sort((n,s)=>Bt($({size:n,sizes:r.breakpoints}))-Bt($({size:s,sizes:r.breakpoints})));return"base"in t?["base",...e]:e}function he({value:t,theme:r,getValue:e,property:n}){if(t==null)return;if(typeof t=="object")return me(t,r).reduce((a,o)=>{if(o==="base"&&t.base!==void 0){const c=e(t.base,r);return Array.isArray(n)?(n.forEach(l=>{a[l]=c}),a):(a[n]=c,a)}const i=e(t[o],r);return Array.isArray(n)?(a[r.fn.largerThan(o)]={},n.forEach(c=>{a[r.fn.largerThan(o)][c]=i}),a):(a[r.fn.largerThan(o)]={[n]:i},a)},{});const s=e(t,r);return Array.isArray(n)?n.reduce((a,o)=>(a[o]=s,a),{}):{[n]:s}}function be(t,r){return t==="dimmed"?r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6]:r.fn.variant({variant:"filled",color:t,primaryFallback:!1}).background}function ge(t){return E(t)}function ve(t){return t}function we(t,r){return $({size:t,sizes:r.fontSizes})}const xe=["-xs","-sm","-md","-lg","-xl"];function je(t,r){return xe.includes(t)?`calc(${$({size:t.replace("-",""),sizes:r.spacing})} * -1)`:$({size:t,sizes:r.spacing})}const Oe={identity:ve,color:be,size:ge,fontSize:we,spacing:je},ze={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var Ne=Object.defineProperty,at=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,ot=(t,r,e)=>r in t?Ne(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,it=(t,r)=>{for(var e in r||(r={}))ke.call(r,e)&&ot(t,e,r[e]);if(at)for(var e of at(r))_e.call(r,e)&&ot(t,e,r[e]);return t};function ct(t,r,e=ze){return Object.keys(e).reduce((n,s)=>(s in t&&t[s]!==void 0&&n.push(he({value:t[s],getValue:Oe[e[s].type],property:e[s].property,theme:r})),n),[]).reduce((n,s)=>(Object.keys(s).forEach(a=>{typeof s[a]=="object"&&s[a]!==null&&a in n?n[a]=it(it({},n[a]),s[a]):n[a]=s[a]}),n),{})}function lt(t,r){return typeof t=="function"?t(r):t}function Ee(t,r,e){const n=Ct(),{css:s,cx:a}=tt();return Array.isArray(t)?a(e,s(ct(r,n)),t.map(o=>s(lt(o,n)))):a(e,s(lt(t,n)),s(ct(r,n)))}var Ie=Object.defineProperty,R=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,dt=(t,r,e)=>r in t?Ie(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,Se=(t,r)=>{for(var e in r||(r={}))pt.call(r,e)&&dt(t,e,r[e]);if(R)for(var e of R(r))ut.call(r,e)&&dt(t,e,r[e]);return t},$e=(t,r)=>{var e={};for(var n in t)pt.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&R)for(var n of R(t))r.indexOf(n)<0&&ut.call(t,n)&&(e[n]=t[n]);return e};const ft=u.forwardRef((t,r)=>{var e=t,{className:n,component:s,style:a,sx:o}=e,i=$e(e,["className","component","style","sx"]);const{systemStyles:c,rest:l}=ye(i),d=s||"div";return z.createElement(d,Se({ref:r,className:Ee(o,c,n),style:a},l))});ft.displayName="@mantine/core/Box",K=ft;var Ae=Object.defineProperty,Pe=Object.defineProperties,Re=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,mt=(t,r,e)=>r in t?Ae(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,ht=(t,r)=>{for(var e in r||(r={}))Ce.call(r,e)&&mt(t,e,r[e]);if(yt)for(var e of yt(r))Be.call(r,e)&&mt(t,e,r[e]);return t},bt=(t,r)=>Pe(t,Re(r));const De=t=>nn({from:{boxShadow:`0 0 ${E(.5)} 0 ${t}`,opacity:.6},to:{boxShadow:`0 0 ${E(.5)} ${E(4.4)} ${t}`,opacity:0}});function gt(t,r=0){const e={},[n,s]=t.split("-");let a="",o="";return n==="top"&&(e.top=r,o="-50%"),n==="middle"&&(e.top="50%",o="-50%"),n==="bottom"&&(e.bottom=r,o="50%"),s==="start"&&(e.left=r,a="-50%"),s==="center"&&(e.left="50%",a="-50%"),s==="end"&&(e.right=r,a="50%"),e.transform=`translate(${a}, ${o})`,e}var Te=pe((t,{radius:r,color:e,position:n,offset:s,inline:a,withBorder:o,withLabel:i,zIndex:c},{size:l})=>{const{background:d}=t.fn.variant({variant:"filled",primaryFallback:!1,color:e||t.primaryColor}),f=E(l);return{root:{position:"relative",display:a?"inline-block":"block"},indicator:bt(ht({},gt(n,s)),{zIndex:c,position:"absolute",[i?"minWidth":"width"]:f,height:f,display:"flex",justifyContent:"center",alignItems:"center",fontSize:t.fontSizes.xs,paddingLeft:i?`calc(${t.spacing.xs} / 2)`:0,paddingRight:i?`calc(${t.spacing.xs} / 2)`:0,borderRadius:t.fn.radius(r),backgroundColor:t.fn.variant({variant:"filled",primaryFallback:!1,color:e||t.primaryColor}).background,border:o?`${E(2)} solid ${t.colorScheme==="dark"?t.colors.dark[7]:t.white}`:void 0,color:t.white,whiteSpace:"nowrap"}),processing:{animation:`${De(d)} 1000ms linear infinite`},common:bt(ht({},gt(n,s)),{position:"absolute",[i?"minWidth":"width"]:f,height:f,borderRadius:t.fn.radius(r)})}});const Le=Te;var Ve=Object.defineProperty,C=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,xt=(t,r,e)=>r in t?Ve(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,We=(t,r)=>{for(var e in r||(r={}))vt.call(r,e)&&xt(t,e,r[e]);if(C)for(var e of C(r))wt.call(r,e)&&xt(t,e,r[e]);return t},He=(t,r)=>{var e={};for(var n in t)vt.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&C)for(var n of C(t))r.indexOf(n)<0&&wt.call(t,n)&&(e[n]=t[n]);return e};const Fe={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1,size:10,radius:1e3,zIndex:Jt("app")},jt=u.forwardRef((t,r)=>{const e=sn("Indicator",Fe,t),{children:n,position:s,offset:a,size:o,radius:i,inline:c,withBorder:l,className:d,color:f,styles:b,label:g,classNames:v,disabled:x,zIndex:h,unstyled:w,processing:y,variant:j}=e,N=He(e,["children","position","offset","size","radius","inline","withBorder","className","color","styles","label","classNames","disabled","zIndex","unstyled","processing","variant"]),{classes:O,cx:_}=Le({position:s,offset:a,radius:i,inline:c,color:f,withBorder:l,zIndex:h,withLabel:!!g},{name:"Indicator",classNames:v,styles:b,unstyled:w,variant:j,size:o});return z.createElement(K,We({ref:r,className:_(O.root,d)},N),!x&&z.createElement(z.Fragment,null,z.createElement("div",{className:_(O.indicator,O.common)},g),y&&z.createElement("div",{className:_(O.processing,O.common)})),n)});jt.displayName="@mantine/core/Indicator";const Me=u.createContext(void 0),H=t=>{const r=u.useContext(Me);return t?.store||r||an()},Ge=t=>typeof t?.then=="function",Ue=z.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(r=>{t.status="fulfilled",t.value=r},r=>{t.status="rejected",t.reason=r}),t)});function S(t,r){const e=H(r),[[n,s,a],o]=u.useReducer(l=>{const d=e.get(t);return Object.is(l[0],d)&&l[1]===e&&l[2]===t?l:[d,e,t]},void 0,()=>[e.get(t),e,t]);let i=n;(s!==e||a!==t)&&(o(),i=e.get(t));const c=r?.delay;return u.useEffect(()=>{const l=e.sub(t,()=>{if(typeof c=="number"){setTimeout(o,c);return}o()});return o(),l},[e,t,c]),u.useDebugValue(i),Ge(i)?Ue(i):i}function k(t,r){const e=H(r);return u.useCallback((...n)=>{if(({VITE_OPENAI_API_KEY:"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",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!("write"in t))throw new Error("not writable atom");return e.set(t,...n)},[e,t])}function F(t,r){return[S(t,r),k(t,r)]}const Ke=t=>F(u.useMemo(()=>Dt(r=>r(Tt).get(t)),[t])),qe=t=>F(u.useMemo(()=>Dt(r=>r(on).get(t)),[t]));function Je(t){const r=u.useRef(t);return r.current=t,u.useMemo(()=>Object.freeze({get current(){return r.current}}),[])}const Ye=typeof window<"u"&&typeof navigator<"u"&&typeof document<"u";function Ze(t){u.useEffect(()=>{t()},[])}let B;function Qe(){if(!Ye)return;if(B)return B;const t=new Map,r=new ResizeObserver(e=>{e.forEach(n=>t.get(n.target)?.forEach(s=>setTimeout(()=>s(n),0)))});return B={observer:r,subscribe:(e,n)=>{let s=t.get(e);s||(s=new Set,t.set(e,s),r.observe(e)),s.add(n)},unsubscribe:(e,n)=>{const s=t.get(e);s&&(s.delete(n),s.size||(t.delete(e),r.unobserve(e)))}},B}function Xe(t,r,e=!0){const n=e&&Qe(),s=Je(r),a=t&&"current"in t?t.current:t;u.useEffect(()=>{const o=t&&"current"in t?t.current:t;if(!n||!o)return;let i=!0;const c=(...l)=>{i&&s.current(...l)};return n.subscribe(o,c),()=>{i=!1,n.unsubscribe(o,c)}},[a,n])}var tr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let Ot,zt;Ot=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zt=(t,r)=>{const e=u.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:i,...c},l)=>u.createElement("svg",{ref:l,...tr,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:`lucide lucide-${Ot(t)}`,...c},[...r.map(([d,f])=>u.createElement(d,f)),...(Array.isArray(i)?i:[i])||[]]));return e.displayName=`${t}`,e},J=zt("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]);var er="_1o7wafv0";let Nt,kt,_t;Nt=A(u.memo,t=>p.jsx("div",{className:t[0],style:t[1],children:t[2]})),kt=({bg:t,children:r,radius:e="0.5rem",size:n=44})=>{let s=D(u.useRef,13),a=0 in s?s[0]:s[0]=er,o;if(m(s,1,t)?s[1]:s[1]=t){let O=cn(s,2,2),_=m(O,0,t),G=_?O[0]:O[0]=t;o=_?O[1]:O[1]=`url("${G}")`}else o="none";let i=m(s,3,e),c=i?s[3]:s[3]=e,l=m(s,4,n),d=l?s[4]:s[4]=n,f=l?s[5]:s[5]=`${d}px`,b=l?s[6]:s[6]=`${d}px`,g=i&&l?s[7]:s[7]={backgroundImage:o,borderRadius:c,height:f,width:b},v=m(s,8,g),x=v?s[8]:s[8]=g,h=m(s,9,r),w=h?s[9]:s[9]=r,y=v&&h?s[10]:s[10]=[a,x,w],j=m(s,11,y),N=j?s[11]:s[11]=y;return j?s[12]:s[12]=p.jsx(Nt,{v:N})},_t=A(u.memo,t=>{const r=t[0];return p.jsx(r,{...t[1],size:t[2],color:t[3],strokeWidth:t[4]})}),q=u.memo(({as:t,color:r=Lt.colors.text,size:e=18,strokeWidth:n=1.5,...s})=>{let a=D(u.useRef,8),o=m(a,0,t),i=o?a[0]:a[0]=t,c=m(a,1,s),l=c?a[1]:a[1]=s,d=m(a,2,e),f=d?a[2]:a[2]=e,b=m(a,3,r),g=b?a[3]:a[3]=r,v=m(a,4,n),x=v?a[4]:a[4]=n,h=o&&c&&d&&b&&v?a[5]:a[5]=[i,l,f,g,x],w=m(a,6,h),y=w?a[6]:a[6]=h;return w?a[7]:a[7]=p.jsx(_t,{v:y})});var rr="_1jvxuvy0",nr="_1jvxuvy1";const sr=A(u.memo,t=>{const r=t[2],e=t[5];return p.jsxs("div",{className:t[0],children:[t[1],p.jsx(r,{inline:!0,label:"WIP",size:t[3],children:p.jsx("div",{className:t[4],children:p.jsx(e,{as:t[6],size:t[7],color:t[8]})})})]})}),ar=A(u.memo,t=>{const r=t[0],e=t[2];return p.jsx(r,{to:t[1],children:p.jsx(e,{bg:t[3]})})}),or=({items:t,selected:r})=>{let e=D(u.useRef,13),n=0 in e?e[0]:e[0]=rr,s=m(e,1,t),a=s?e[1]:e[1]=t,o=2 in e?e[2]:e[2]=y=>p.jsx(ar,{v:[ln,`/bots/${y.id}`,kt,y.icon]},y.id),i=s?e[3]:e[3]=a.map(o),c=m(e,4,i),l=c?e[4]:e[4]=i,d=5 in e?e[5]:e[5]=jt,f=6 in e?e[6]:e[6]=nr,b=7 in e?e[7]:e[7]=q,g=8 in e?e[8]:e[8]=J,v=9 in e?e[9]:e[9]=Lt.colors.overlay,x=c?e[10]:e[10]=[n,l,d,14,f,b,g,24,v],h=m(e,11,x),w=h?e[11]:e[11]=x;return h?e[12]:e[12]=p.jsx(sr,{v:w})};function ir(t,r){const e=H(r);return u.useEffect(()=>e.sub(t,()=>{}),[e,t]),[u.useCallback(()=>e.get(t),[e,t]),u.useCallback((...n)=>{if((s=>!!s.write)(t))return e.set(t,...n);throw new Error("not writable atom")},[e,t])]}const cr=typeof window<"u"?z.useInsertionEffect||z.useLayoutEffect:()=>{};I=function(t){const r=z.useRef(lr);cr(()=>{r.current=t},[t]);const e=z.useRef(null);return e.current||(e.current=function(){return r.current.apply(this,arguments)}),e.current};function lr(){throw new Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}var pr="ppg23g0",ur="ppg23g1";const dr=A(u.memo,t=>p.jsx("div",{id:t[0],className:t[1],children:p.jsx("input",{className:t[2],type:"text",placeholder:t[3],autoComplete:"off",value:t[4],onChange:t[5],...t[6]})})),fr=u.memo(({id:t,onChange:r,placeholder:e="Untitled",value:n,...s})=>{let a=D(u.useRef,11),o=u.useDeferredValue(m(a,0,n)?a[0]:a[0]=n),i=m(a,1,t),c=i?a[1]:a[1]=t,l=2 in a?a[2]:a[2]=pr,d=3 in a?a[3]:a[3]=ur,f=m(a,4,e),b=f?a[4]:a[4]=e,g=m(a,5,o),v=g?a[5]:a[5]=o,x=m(a,6,r),h=x?a[6]:a[6]=r,w=m(a,7,s),y=w?a[7]:a[7]=s,j=i&&f&&g&&x&&w?a[8]:a[8]=[c,l,d,b,v,h,y],N=m(a,9,j),O=N?a[9]:a[9]=j;return N?a[10]:a[10]=p.jsx(dr,{v:O})});var yr="gd12u82",mr="gd12u84 gd12u83",hr="gd12u80",br="gd12u83",gr="gd12u81";const M=({aside:t,asideHeader:r,children:e,header:n})=>p.jsxs("div",{className:hr,children:[p.jsxs("aside",{className:yr,children:[p.jsx("div",{className:mr,children:r}),t]}),p.jsxs("main",{className:gr,children:[p.jsx("header",{className:br,children:n}),e]})]});var vr="_1ogrem70",wr="_1ogrem71";const xr=u.lazy(()=>U(()=>import("./index-23ce7577.js").then(async t=>(await t.__tla,t)),["assets/index-23ce7577.js","assets/index-cbad737e.js","assets/react-7029a116.js","assets/index-de832b6e.css","assets/react-error-boundary.esm-2ee53b63.js","assets/index-83796f5a.css"])),jr=({id:t})=>{const[r]=qe(t);return p.jsx(u.Suspense,{children:r?p.jsx(xr,{data:r}):null})},Or=({data:t,isGenerating:r,onHeightChange:e})=>{const{id:n,messages:s}=t,a=u.useRef(null);return Xe(a,o=>{e?.(o.contentRect.height)},r),p.jsx("div",{className:vr,children:p.jsx("div",{className:wr,ref:a,children:s.map(o=>p.jsx(jr,{id:o},o))})})};var zr="_1q3thl81",Et="_1q3thl80";const Nr=u.lazy(()=>U(()=>import("./index-8cddc8c4.js").then(async t=>(await t.__tla,t)),["assets/index-8cddc8c4.js","assets/index-cbad737e.js","assets/react-7029a116.js","assets/index-de832b6e.css","assets/react-hotkeys-hook.esm-5841d46f.js","assets/index-d51f7e3c.css"])),kr=u.lazy(()=>U(()=>import("./index-f9c02d1b.js").then(async t=>(await t.__tla,t)).then(t=>t.w),["assets/index-f9c02d1b.js","assets/index-cbad737e.js","assets/react-7029a116.js","assets/index-de832b6e.css","assets/react-error-boundary.esm-2ee53b63.js","assets/react-hotkeys-hook.esm-5841d46f.js","assets/index-401fc63e.css"])),_r=({botName:t,chatID:r})=>{const e=u.useRef(null),[n]=Ke(r),[s]=ir(Tt),a=S(Vt),o=k(Ht),i=k(Ft),c=k(un),l=k(dn),d=k(fn),f=S(pn),b=f.isSome()&&f.unwrap().type==="pending",g=I(()=>{const y={id:P(),role:"system",content:Wt,updatedAt:Date.now()},j={id:P(),messages:[y.id],title:"",updatedAt:Date.now()};o(y),i(j)}),v=I(()=>{s().size!==1&&(T.push("BotNewChat",{botName:t}),l(r))}),x=I(async y=>{const j={id:P(),content:y,role:"user",updatedAt:Date.now()};o(j),c(r,N=>{N.messages.push(j.id)}),await d(r)}),h=I(y=>y.trim()!==""&&!b),w=u.useMemo(()=>p.jsx(Nr,{items:a,newItemName:"New chat",selected:r,disableMutation:b,onItemAdd:g,onItemRemove:v}),[r,b,g,v,a]);return n?p.jsxs(M,{asideHeader:t,aside:w,header:p.jsx(fr,{id:"chat-title",value:n.title,placeholder:"Untitled",onChange:y=>{c(r,j=>{j.title=y.currentTarget.value})}}),children:[p.jsx("div",{ref:e,className:Et,children:p.jsx(Or,{data:n,isGenerating:b,onHeightChange:()=>{e.current?.scrollTo({top:e.current.scrollHeight})}})}),p.jsx("div",{className:zr,children:p.jsx(kr,{onComplete:x,shouldComplete:h})})]}):p.jsx(M,{asideHeader:t,aside:w,children:p.jsx("div",{className:Et,children:p.jsx("div",{children:"Select a chat to start"})})})};function It(t){var r,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(e=It(t[r]))&&(n&&(n+=" "),n+=e);else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}Y=function(){for(var t,r,e=0,n="";e<arguments.length;)(t=arguments[e++])&&(r=It(t))&&(n&&(n+=" "),n+=r);return n};var Er="_17i0ume0";let St,$t,At,Pt;St=({botName:t})=>{const[r,e]=F(Mt);return p.jsx(M,{header:`${t} Settings`,children:p.jsxs("div",{className:Y("prose-sm",Er),children:[p.jsx("h3",{children:"API Key"}),p.jsx("input",{type:"text",value:r,onChange:n=>{e(n.target.value)}})]})})},$t=[{id:"ChatGPT",title:"ChatGPT",icon:gn}],At=({botName:t})=>{const r=k(Ht),e=k(Ft),n=S(Vt);return Ze(()=>{const s=n[0];if(s){T.push("BotChat",{botName:t,chatID:s.id});return}const a={id:P(),role:"system",content:Wt,updatedAt:Date.now()},o={id:P(),title:"",updatedAt:Date.now(),messages:[a.id]};r(a),e(o),T.push("BotChat",{botName:t,chatID:o.id})}),null},Pt=({botName:t})=>{const r=T.useRoute(["BotRoot","BotChat","BotNewChat","BotSettings","BotChatArchive"]),e=!!S(Mt),n=u.useMemo(()=>yn(r).with({name:"BotRoot"},({params:s})=>p.jsx(mn,{to:`/bots/${s.botName}/${e?"new":"settings"}`})).with({name:"BotNewChat"},({params:s})=>p.jsx(At,{botName:s.botName})).with({name:"BotSettings"},({params:s})=>p.jsx(St,{botName:s.botName})).with({name:"BotChat"},({params:s})=>p.jsx(_r,{botName:s.botName,chatID:hn(s.chatID).unwrap()})).otherwise(()=>null),[e,r]);return p.jsx(bn,{nav:p.jsx(or,{items:$t,selected:t}),children:p.jsx(u.Suspense,{children:n})})},Ut=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:"Module"}))});export{K as B,q as I,J as P,wn as __tla,Y as a,Gt as c,Ut as i,I as u};
