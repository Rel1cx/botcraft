import{j as v,_ as P,t as ce,w as U,x as gt,y as jn,i as le,R as ue,v as kn,b as On,A as Tn,B as In,C as Dn,D as Zn,s as Fn,E as zn,F as Wn,__tla as Bn}from"./index-9eb06734.js";import{d as w,a as s}from"./react-86beffc7.js";import{P as Nn,u as q,a as fe,I as $n,__tla as Xn}from"./BotArea-ab17b404.js";import{u as Yn,a as Un,b as qn,L as Gn,__tla as Jn}from"./Layout-b6e00204.js";let yt,I,de,L,G,D,vt,xt,Z,wt,bt,J,K,Et,At,_t,Q,Ct,tt,et,Rt,nt,rt,Vt,at,me,pe,he,Mt,F,St,Pt,ge,ye,Lt,ve,_,Ht,C,z,f,W,R,jt,xe,st,kt,we,be,Ee,ot,Ot,Kn=Promise.all([(()=>{try{return Bn}catch{}})(),(()=>{try{return Xn}catch{}})(),(()=>{try{return Jn}catch{}})()]).then(async()=>{var Ae=Object.defineProperty,_e=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Tt=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,It=(t,e,n)=>e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Me=(t,e)=>{for(var n in e||(e={}))Re.call(e,n)&&It(t,n,e[n]);if(Tt)for(var n of Tt(e))Ve.call(e,n)&&It(t,n,e[n]);return t},Se=(t,e)=>_e(t,Ce(e));const Pe=new Map([["bold",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,44H40A20,20,0,0,0,20,64V224A19.82,19.82,0,0,0,31.56,242.1a20.14,20.14,0,0,0,8.49,1.9,19.91,19.91,0,0,0,12.82-4.72l.19-.16L84,212H216a20,20,0,0,0,20-20V64A20,20,0,0,0,216,44Zm-4,144H82.5a20,20,0,0,0-12.87,4.69l-.19.16L44,215.14V68H212Z"}))],["duotone",w.createElement(w.Fragment,null,w.createElement("path",{d:"M224,64V192a8,8,0,0,1-8,8H82.5a8,8,0,0,0-5.15,1.88l-32.2,28.23A8,8,0,0,1,32,224V64a8,8,0,0,1,8-8H216A8,8,0,0,1,224,64Z",opacity:"0.2"}),w.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V224a15.84,15.84,0,0,0,9.25,14.5A16.05,16.05,0,0,0,40,240a15.89,15.89,0,0,0,10.25-3.78.69.69,0,0,0,.13-.11L82.5,208H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM40,224h0ZM216,192H82.5a16,16,0,0,0-10.3,3.75l-.12.11L40,224V64H216Z"}))],["fill",w.createElement(w.Fragment,null,w.createElement("path",{d:"M232,64V192a16,16,0,0,1-16,16H82.5L50.42,236.11a.69.69,0,0,1-.13.11A15.89,15.89,0,0,1,40,240a16.05,16.05,0,0,1-6.79-1.52A15.84,15.84,0,0,1,24,224V64A16,16,0,0,1,40,48H216A16,16,0,0,1,232,64Z"}))],["light",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,50H40A14,14,0,0,0,26,64V224a13.88,13.88,0,0,0,8.09,12.69A14.11,14.11,0,0,0,40,238a13.87,13.87,0,0,0,9-3.31l.09-.08,32.14-28.17A2,2,0,0,1,82.5,206H216a14,14,0,0,0,14-14V64A14,14,0,0,0,216,50Zm2,142a2,2,0,0,1-2,2H82.5a14,14,0,0,0-9,3.29l-.09.08L41.25,225.54A2,2,0,0,1,38,224V64a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2Z"}))],["regular",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V224a15.84,15.84,0,0,0,9.25,14.5A16.05,16.05,0,0,0,40,240a15.89,15.89,0,0,0,10.25-3.78.69.69,0,0,0,.13-.11L82.5,208H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM40,224h0ZM216,192H82.5a16,16,0,0,0-10.3,3.75l-.12.11L40,224V64H216Z"}))],["thin",w.createElement(w.Fragment,null,w.createElement("path",{d:"M216,52H40A12,12,0,0,0,28,64V224a11.89,11.89,0,0,0,6.93,10.88A12.17,12.17,0,0,0,40,236a11.89,11.89,0,0,0,7.69-2.83l.06-.06,32.14-28.17A4,4,0,0,1,82.5,204H216a12,12,0,0,0,12-12V64A12,12,0,0,0,216,52Zm4,140a4,4,0,0,1-4,4H82.5a12.1,12.1,0,0,0-7.79,2.87l-32.16,28.2A4,4,0,0,1,36,224V64a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4Z"}))]]),Dt=s.forwardRef((t,e)=>w.createElement(Nn,Se(Me({ref:e},t),{weights:Pe})));Dt.displayName="Chat";var Le="ppg23g0",He="ppg23g1";const je=s.memo(({id:t,onChange:e,placeholder:n="Untitled",value:r,...a})=>{const o=s.useDeferredValue(r);return v.jsx("div",{id:t,className:Le,children:v.jsx("input",{className:He,type:"text",placeholder:n,value:o,onChange:e,translate:"no",spellCheck:"false",autoCorrect:"off",autoComplete:"off","aria-autocomplete":"none",...a})})});kt=function(t){const e=s.useRef(t);return e.current=t,s.useMemo(()=>Object.freeze({get current(){return e.current}}),[])};const ke=typeof window<"u"&&typeof navigator<"u"&&typeof document<"u";let B;function Oe(){if(!ke)return;if(B)return B;const t=new Map,e=new ResizeObserver(n=>{n.forEach(r=>t.get(r.target)?.forEach(a=>setTimeout(()=>a(r),0)))});return B={observer:e,subscribe:(n,r)=>{let a=t.get(n);a||(a=new Set,t.set(n,a),e.observe(n)),a.add(r)},unsubscribe:(n,r)=>{const a=t.get(n);a&&(a.delete(r),a.size||(t.delete(n),e.unobserve(n)))}},B}function Te(t,e,n=!0){const r=n&&Oe(),a=kt(e),o=t&&"current"in t?t.current:t;s.useEffect(()=>{const c=t&&"current"in t?t.current:t;if(!r||!c)return;let l=!0;const d=(...i)=>{l&&a.current(...i)};return r.subscribe(c,d),()=>{l=!1,r.unsubscribe(c,d)}},[o,r])}let H,N,j;nt=s.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),H=s.createContext({}),N=s.createContext(null),G=typeof document<"u",j=G?s.useLayoutEffect:s.useEffect,at=s.createContext({strict:!1});function Ie(t,e,n,r){const{visualElement:a}=s.useContext(H),o=s.useContext(at),c=s.useContext(N),l=s.useContext(nt).reducedMotion,d=s.useRef();r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:l}));const i=d.current;return s.useInsertionEffect(()=>{i&&i.update(n,c)}),j(()=>{i&&i.render()}),s.useEffect(()=>{i&&i.updateFeatures()}),(window.HandoffAppearAnimations?j:s.useEffect)(()=>{i&&i.animationState&&i.animationState.animateChanges()}),i}xt=function(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")};function De(t,e,n){return s.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):xt(n)&&(n.current=r))},[e])}I=function(t){return typeof t=="string"||Array.isArray(t)},ot=function(t){return typeof t=="object"&&typeof t.start=="function"},yt=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wt=["initial",...yt],D=function(t){return ot(t.animate)||wt.some(e=>I(t[e]))},vt=function(t){return!!(D(t)||t.variants)};function Ze(t,e){if(D(t)){const{initial:n,animate:r}=t;return{initial:n===!1||I(n)?n:void 0,animate:I(r)?r:void 0}}return t.inherit!==!1?e:{}}function Fe(t){const{initial:e,animate:n}=Ze(t,s.useContext(H));return s.useMemo(()=>({initial:e,animate:n}),[Zt(e),Zt(n)])}function Zt(t){return Array.isArray(t)?t.join(" "):t}let it;it={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Z={};for(const t in it)Z[t]={isEnabled:e=>it[t].some(n=>!!e[n])};Vt=function(t){for(const e in t)Z[e]={...Z[e],...t[e]}};const Ft=s.createContext({}),ze=s.createContext({}),We=Symbol.for("motionComponentSymbol");function Be({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&Vt(t);function o(l,d){let i;const m={...s.useContext(nt),...l,layoutId:Ne(l)},{isStatic:u}=m,h=Fe(l),g=r(l,u);if(!u&&G){h.visualElement=Ie(a,g,m,e);const x=s.useContext(ze),b=s.useContext(at).strict;h.visualElement&&(i=h.visualElement.loadFeatures(m,b,t,x))}return s.createElement(H.Provider,{value:h},i&&h.visualElement?s.createElement(i,{visualElement:h.visualElement,...m}):null,n(a,l,De(g,h.visualElement,d),g,u,h.visualElement))}const c=s.forwardRef(o);return c[We]=a,c}function Ne({layoutId:t}){const e=s.useContext(Ft).id;return e&&t!==void 0?e+"-"+t:t}function $e(t){function e(r,a={}){return Be(t(r,a))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,a)=>(n.has(a)||n.set(a,e(a)),n.get(a))})}const Xe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];et=function(t){return typeof t!="string"||t.includes("-")?!1:!!(Xe.indexOf(t)>-1||/[A-Z]/.test(t))};let zt;zt={},L=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],st=new Set(L);function Wt(t,{layout:e,layoutId:n}){return st.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zt[t]||t==="opacity")}let Bt,Nt;C=t=>!!(t&&t.getVelocity),Bt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nt=L.length;function Ye(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,a){let o="";for(let c=0;c<Nt;c++){const l=L[c];if(t[l]!==void 0){const d=Bt[l]||l;o+=`${d}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(t,r?"":o):n&&r&&(o="none"),o}let ct,$t,k;ct=t=>e=>typeof e=="string"&&e.startsWith(t),bt=ct("--"),de=ct("var(--"),ye=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,$t=(t,e)=>e&&typeof t=="number"?e.transform(t):t,St=(t,e,n)=>Math.min(Math.max(n,t),e),z={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},F={...z,transform:t=>St(0,1,t)},k={...z,default:1},he=t=>Math.round(t*1e5)/1e5,pe=/(-)?([\d]*\.?[\d])+/g,ge=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i,Lt=function(t){return typeof t=="string"};let M,lt,ut;M=t=>({test:e=>Lt(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),R=M("deg"),W=M("%"),f=M("px"),be=M("vh"),we=M("vw"),lt={...W,parse:t=>W.parse(t)/100,transform:t=>W.transform(t*100)},ut={...z,transform:Math.round},Ht={borderWidth:f,borderTopWidth:f,borderRightWidth:f,borderBottomWidth:f,borderLeftWidth:f,borderRadius:f,radius:f,borderTopLeftRadius:f,borderTopRightRadius:f,borderBottomRightRadius:f,borderBottomLeftRadius:f,width:f,maxWidth:f,height:f,maxHeight:f,size:f,top:f,right:f,bottom:f,left:f,padding:f,paddingTop:f,paddingRight:f,paddingBottom:f,paddingLeft:f,margin:f,marginTop:f,marginRight:f,marginBottom:f,marginLeft:f,rotate:R,rotateX:R,rotateY:R,rotateZ:R,scale:k,scaleX:k,scaleY:k,scaleZ:k,skew:R,skewX:R,skewY:R,distance:f,translateX:f,translateY:f,translateZ:f,x:f,y:f,z:f,perspective:f,transformPerspective:f,opacity:F,originX:lt,originY:lt,originZ:f,zIndex:ut,fillOpacity:F,strokeOpacity:F,numOctaves:ut},J=function(t,e,n,r){const{style:a,vars:o,transform:c,transformOrigin:l}=t;let d=!1,i=!1,m=!0;for(const u in e){const h=e[u];if(bt(u)){o[u]=h;continue}const g=Ht[u],x=$t(h,g);if(st.has(u)){if(d=!0,c[u]=x,!m)continue;h!==(g.default||0)&&(m=!1)}else u.startsWith("origin")?(i=!0,l[u]=x):a[u]=x}if(e.transform||(d||r?a.transform=Ye(t.transform,n,m,r):a.transform&&(a.transform="none")),i){const{originX:u="50%",originY:h="50%",originZ:g=0}=l;a.transformOrigin=`${u} ${h} ${g}`}};const ft=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xt(t,e,n){for(const r in e)!C(e[r])&&!Wt(r,n)&&(t[r]=e[r])}function Ue({transformTemplate:t},e,n){return s.useMemo(()=>{const r=ft();return J(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function qe(t,e,n){const r=t.style||{},a={};return Xt(a,r,t),Object.assign(a,Ue(t,e,n)),t.transformValues?t.transformValues(a):a}function Ge(t,e,n){const r={},a=qe(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=a,r}const Je=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function $(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Je.has(t)}let Yt=t=>!$(t);Rt=function(t){t&&(Yt=e=>e.startsWith("on")?!$(e):t(e))};try{Rt(require("@emotion/is-prop-valid").default)}catch{}function Ke(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(Yt(a)||n===!0&&$(a)||!e&&!$(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function Ut(t,e,n){return typeof t=="string"?t:f.transform(e+n*t)}function Qe(t,e,n){const r=Ut(e,t.x,t.width),a=Ut(n,t.y,t.height);return`${r} ${a}`}const tn={offset:"stroke-dashoffset",array:"stroke-dasharray"},en={offset:"strokeDashoffset",array:"strokeDasharray"};function nn(t,e,n=1,r=0,a=!0){t.pathLength=1;const o=a?tn:en;t[o.offset]=f.transform(-r);const c=f.transform(e),l=f.transform(n);t[o.array]=`${c} ${l}`}Q=function(t,{attrX:e,attrY:n,attrScale:r,originX:a,originY:o,pathLength:c,pathSpacing:l=1,pathOffset:d=0,...i},m,u,h){if(J(t,i,m,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x,dimensions:b}=t;g.transform&&(b&&(x.transform=g.transform),delete g.transform),b&&(a!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=Qe(b,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),c!==void 0&&nn(g,c,l,d,!1)};let dt;dt=()=>({...ft(),attrs:{}}),tt=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rn(t,e,n,r){const a=s.useMemo(()=>{const o=dt();return Q(o,e,{enableHardwareAcceleration:!1},tt(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Xt(o,t.style,t),a.style={...o,...a.style}}return a}function an(t=!1){return(e,n,r,{latestValues:a},o)=>{const c=(et(e)?rn:Ge)(n,a,o,e),l={...Ke(n,typeof e=="string",t),...c,ref:r},{children:d}=n,i=s.useMemo(()=>C(d)?d.get():d,[d]);return s.createElement(e,{...l,children:i})}}Mt=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Et=function(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])},At=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ct=function(t,e,n,r){Et(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(At.has(a)?a:Mt(a),e.attrs[a])},K=function(t,e){const{style:n}=t,r={};for(const a in n)(C(n[a])||e.style&&C(e.style[a])||Wt(a,t))&&(r[a]=n[a]);return r},_t=function(t,e){const n=K(t,e);for(const r in t)if(C(t[r])||C(e[r])){const a=L.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=t[r]}return n},jt=function(t,e,n,r={},a={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,a)),e},rt=function(t){const e=s.useRef(null);return e.current===null&&(e.current=t()),e.current};let qt;Ot=t=>Array.isArray(t),qt=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Ee=t=>Ot(t)?t[t.length-1]||0:t;function sn(t){const e=C(t)?t.get():t;return qt(e)?e.toValue():e}function on({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,a,o){const c={latestValues:cn(r,a,o,t),renderState:e()};return n&&(c.mount=l=>n(r,l,c)),c}const Gt=t=>(e,n)=>{const r=s.useContext(H),a=s.useContext(N),o=()=>on(t,e,r,a);return n?o():rt(o)};function cn(t,e,n,r){const a={},o=r(t,{});for(const h in o)a[h]=sn(o[h]);let{initial:c,animate:l}=t;const d=D(t),i=vt(t);e&&i&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),l===void 0&&(l=e.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const u=m?l:c;return u&&typeof u!="boolean"&&!ot(u)&&(Array.isArray(u)?u:[u]).forEach(h=>{const g=jt(t,h);if(!g)return;const{transitionEnd:x,transition:b,...V}=g;for(const A in V){let y=V[A];if(Array.isArray(y)){const p=m?y.length-1:0;y=y[p]}y!==null&&(a[A]=y)}for(const A in x)a[A]=x[A]}),a}const ln={useVisualState:Gt({scrapeMotionValuesFromProps:_t,createRenderState:dt,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Q(n,r,{enableHardwareAcceleration:!1},tt(e.tagName),t.transformTemplate),Ct(e,n)}})},un={useVisualState:Gt({scrapeMotionValuesFromProps:K,createRenderState:ft})};function fn(t,{forwardMotionProps:e=!1},n,r){return{...et(t)?ln:un,preloadedFeatures:n,useRender:an(e),createVisualElement:r,Component:t}}function dn(t){let e=[],n=[],r=0,a=!1,o=!1;const c=new WeakSet,l={schedule:(d,i=!1,m=!1)=>{const u=m&&a,h=u?e:n;return i&&c.add(d),h.indexOf(d)===-1&&(h.push(d),u&&a&&(r=e.length)),d},cancel:d=>{const i=n.indexOf(d);i!==-1&&n.splice(i,1),c.delete(d)},process:d=>{if(a){o=!0;return}if(a=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let i=0;i<r;i++){const m=e[i];m(d),c.has(m)&&(l.schedule(m),t())}a=!1,o&&(o=!1,l.process(d))}};return l}let Jt;_={delta:0,timestamp:0,isProcessing:!1},Jt=40;let mt=!0,O=!1,T,X,Kt,pt,Qt;T=["read","update","preRender","render","postRender"],X=T.reduce((t,e)=>(t[e]=dn(()=>O=!0),t),{}),Kt=t=>X[t].process(_),pt=t=>{O=!1,_.delta=mt?1e3/60:Math.max(Math.min(t-_.timestamp,Jt),1),_.timestamp=t,_.isProcessing=!0,T.forEach(Kt),_.isProcessing=!1,O&&(mt=!1,requestAnimationFrame(pt))},Qt=()=>{O=!0,mt=!0,_.isProcessing||requestAnimationFrame(pt)},Pt=T.reduce((t,e)=>{const n=X[e];return t[e]=(r,a=!1,o=!1)=>(O||Qt(),n.schedule(r,a,o)),t},{}),ve=function(t){T.forEach(e=>X[e].cancel(t))};const te=$e(fn);function ee(){const t=s.useRef(!1);return j(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function mn(){const t=ee(),[e,n]=s.useState(0),r=s.useCallback(()=>{t.current&&n(e+1)},[e]);return[s.useCallback(()=>Pt.postRender(r),[r]),e]}class pn extends s.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hn({children:t,isPresent:e}){const n=s.useId(),r=s.useRef(null),a=s.useRef({width:0,height:0,top:0,left:0});return s.useInsertionEffect(()=>{const{width:o,height:c,top:l,left:d}=a.current;if(e||!r.current||!o||!c)return;r.current.dataset.motionPopId=n;const i=document.createElement("style");return document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[e]),s.createElement(pn,{isPresent:e,childRef:r,sizeRef:a},s.cloneElement(t,{ref:r}))}const ht=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:c})=>{const l=rt(gn),d=s.useId(),i=s.useMemo(()=>({id:d,initial:e,isPresent:n,custom:a,onExitComplete:m=>{l.set(m,!0);for(const u of l.values())if(!u)return;r&&r()},register:m=>(l.set(m,!1),()=>l.delete(m))}),o?void 0:[n]);return s.useMemo(()=>{l.forEach((m,u)=>l.set(u,!1))},[n]),s.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),c==="popLayout"&&(t=s.createElement(hn,{isPresent:n},t)),s.createElement(N.Provider,{value:i},t)};function gn(){return new Map}function yn(t){return s.useEffect(()=>()=>t(),[])}const S=t=>t.key||"";function vn(t,e){t.forEach(n=>{const r=S(n);e.set(r,n)})}function xn(t){const e=[];return s.Children.forEach(t,n=>{s.isValidElement(n)&&e.push(n)}),e}const wn=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:c="sync"})=>{const l=s.useContext(Ft).forceRender||mn()[0],d=ee(),i=xn(t);let m=i;const u=s.useRef(new Map).current,h=s.useRef(m),g=s.useRef(new Map).current,x=s.useRef(!0);if(j(()=>{x.current=!1,vn(i,g),h.current=m}),yn(()=>{x.current=!0,g.clear(),u.clear()}),x.current)return s.createElement(s.Fragment,null,m.map(y=>s.createElement(ht,{key:S(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:c},y)));m=[...m];const b=h.current.map(S),V=i.map(S),A=b.length;for(let y=0;y<A;y++){const p=b[y];V.indexOf(p)===-1&&!u.has(p)&&u.set(p,void 0)}return c==="wait"&&u.size&&(m=[]),u.forEach((y,p)=>{if(V.indexOf(p)!==-1)return;const E=g.get(p);if(!E)return;const Sn=b.indexOf(p);let Y=y;if(!Y){const Pn=()=>{g.delete(p),u.delete(p);const Ln=h.current.findIndex(Hn=>Hn.key===p);if(h.current.splice(Ln,1),!u.size){if(h.current=i,d.current===!1)return;l(),r&&r()}};Y=s.createElement(ht,{key:S(E),isPresent:!1,onExitComplete:Pn,custom:e,presenceAffectsLayout:o,mode:c},E),u.set(p,Y)}m.splice(Sn,0,Y)}),m=m.map(y=>{const p=y.key;return u.has(p)?y:s.createElement(ht,{key:S(y),isPresent:!0,presenceAffectsLayout:o,mode:c},y)}),s.createElement(s.Fragment,null,u.size?m:m.map(y=>s.cloneElement(y)))};var bn="_19keaci0",En="_19keaci1",An="_19keaci2";const _n=s.lazy(()=>P(()=>import("./Message-9d869758.js").then(async t=>(await t.__tla,t)),["assets/Message-9d869758.js","assets/index-9eb06734.js","assets/react-86beffc7.js","assets/index-7a28a149.css","assets/clsx.m-1229b3e0.js","assets/react-error-boundary.esm-b8d68eac.js","assets/Message-8c41e5f2.css"])),Cn=s.lazy(()=>P(()=>import("./Animation-70d0a974.js").then(async t=>(await t.__tla,t)),["assets/Animation-70d0a974.js","assets/index-9eb06734.js","assets/react-86beffc7.js","assets/index-7a28a149.css","assets/BotArea-ab17b404.js","assets/Text-eead962a.js","assets/BotArea-644997c1.css","assets/Layout-b6e00204.js","assets/Layout-483655aa.css"])),Rn=({data:t,isGenerating:e,MessageRenderer:n,onHeightChange:r})=>{const{id:a,intro:o,messages:c}=t,l=s.useRef(null),d=s.useMemo(()=>({id:ce(),role:"assistant",content:o,updatedAt:Date.now()}),[o]);return Te(l,i=>{r?.(i.contentRect.height)},e),v.jsx("div",{className:bn,children:v.jsx("div",{className:En,ref:l,children:v.jsxs(Cn,{children:[v.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},children:v.jsx(_n,{className:An,data:d})},a),v.jsx(wn,{children:c.map(i=>v.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},children:v.jsx(n,{id:i})},i))})]})})})};var Vn="_1q3thl81",Mn="_1q3thl80";let ne,re,ae,se,oe,ie;ne=s.lazy(()=>P(()=>import("./TimeStack-dd574bbd.js").then(async t=>(await t.__tla,t)),["assets/TimeStack-dd574bbd.js","assets/index-9eb06734.js","assets/react-86beffc7.js","assets/index-7a28a149.css","assets/BotArea-ab17b404.js","assets/Text-eead962a.js","assets/BotArea-644997c1.css","assets/TimeStack-f3e64cdf.css"])),re=s.lazy(()=>P(()=>import("./Message-9d869758.js").then(async t=>(await t.__tla,t)),["assets/Message-9d869758.js","assets/index-9eb06734.js","assets/react-86beffc7.js","assets/index-7a28a149.css","assets/clsx.m-1229b3e0.js","assets/react-error-boundary.esm-b8d68eac.js","assets/Message-8c41e5f2.css"])),ae=s.lazy(()=>P(()=>import("./ConfirmDialog-d02fb3c8.js").then(async t=>(await t.__tla,t)),["assets/ConfirmDialog-d02fb3c8.js","assets/index-9eb06734.js","assets/react-86beffc7.js","assets/index-7a28a149.css","assets/BotArea-ab17b404.js","assets/Text-eead962a.js","assets/BotArea-644997c1.css","assets/clsx.m-1229b3e0.js","assets/ConfirmDialog-77c6835a.css"])),se=s.lazy(()=>P(()=>import("./ChatMessageEditor-f10d48e8.js").then(async t=>(await t.__tla,t)),["assets/ChatMessageEditor-f10d48e8.js","assets/index-9eb06734.js","assets/react-86beffc7.js","assets/index-7a28a149.css","assets/MarkdownEditor-beeb79b5.js","assets/clsx.m-1229b3e0.js","assets/react-error-boundary.esm-b8d68eac.js","assets/MarkdownEditor-e1b3b00d.css","assets/BotArea-ab17b404.js","assets/Text-eead962a.js","assets/BotArea-644997c1.css","assets/Layout-b6e00204.js","assets/Layout-483655aa.css","assets/ChatMessageEditor-d48a8d83.css"])),oe=s.memo(({id:t})=>{const[e]=Yn(t),n=s.useMemo(()=>!e?.content||e.role==="system"?null:v.jsx(re,{data:e}),[e]);return v.jsx(s.Suspense,{children:n})}),ie=s.memo(({botName:t,chatID:e})=>{const n=s.useRef(null),r=Un(t),[a,o]=qn(e),c=q(In),l=q(Dn),d=q(Zn),i=fe(Fn),[m,u]=s.useState(U.None()),h=q(zn),g=fe(Wn),x=s.useMemo(()=>{if(g.isNone())return!1;const p=g.get();return p.type==="pending"&&p.chatID===e},[g,e]),b=s.useCallback(()=>{gt(r,"Bot must be defined");const p=jn()(r);c(t,p)},[c,r,t]),V=s.useCallback(p=>{gt(r,"Bot must be defined");const{chats:E}=r;E.length===1||!le(p)||(ue.replace("BotNewChat",{botName:t}),l(t,p))},[r,t,l]),A=s.useCallback(async p=>{const E={id:ce(),content:p,role:"user",updatedAt:Date.now()};await d(e,E),await h(t,e)},[d,t,e,h]),y=s.useMemo(()=>v.jsx(ne,{items:i,renderItemIcon:p=>v.jsx($n,{style:{flexShrink:0},as:Dt,color:e===p?"#fff":kn.colors.text}),newItemName:"New chat",selected:e,disableMutation:x,onItemClick:p=>{ue.push("BotChat",{botName:t,chatID:p})},onItemAdd:b,onItemRemove:p=>{le(p)&&u(U.Some(p))}}),[t,e,x,b,i]);return a?v.jsxs(Gn,{asideHeader:t,aside:y,header:v.jsx(je,{id:"chat-title",value:a.title,placeholder:"Untitled",onChange:p=>{o(Tn(E=>{gt(E,"Chat must be defined"),E.title=p.target.value}))}}),children:[v.jsx("div",{ref:n,className:Mn,children:v.jsx(Rn,{data:a,isGenerating:x,MessageRenderer:oe,onHeightChange:()=>{n.current?.scrollTo({top:n.current.scrollHeight})}})}),v.jsx("div",{className:Vn,children:v.jsx(se,{id:e,onComplete:A,shouldSend:!x})}),v.jsx(ae,{title:"Remove chat",description:"Are you sure you want to remove this chat?",confirmLabel:"Remove",danger:!0,open:m.isSome(),onClose:()=>u(U.None()),onConfirm:()=>{m.isNone()||(V(m.get()),u(U.None()))}})]}):v.jsx(On,{to:`/bots/${t}/new`})}),me=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}))});export{yt as A,I as B,de as C,L as D,G as E,D as F,vt as G,xt as H,Z as I,wt as J,bt as K,J as L,K as M,Et as N,At as O,_t as P,Q,Ct as R,tt as S,et as T,Rt as U,nt as V,rt as W,Vt as X,at as Y,me as Z,Kn as __tla,pe as a,he as b,Mt as c,F as d,St as e,Pt as f,ge as g,ye as h,Lt as i,ve as j,_ as k,Ht as l,C as m,z as n,f as o,W as p,R as q,jt as r,xe as s,st as t,kt as u,we as v,be as w,Ee as x,ot as y,Ot as z};
